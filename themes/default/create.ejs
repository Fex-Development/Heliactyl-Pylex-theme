<html class="h-full bg-fex-800">
<%- include('./components/head') %>
<body style="font-family: 'Lexend Deca', sans-serif;" class="bg-fex-800 h-full">
<div>
 <%- include('./components/sidebar') %>

  <main>
    <% if (req.query.err) { %>
        <div style="border-radius: 15px;" class="alert">
            <% if (req.query.err == "MISSINGVARIABLE") { %>
                You have not filled out all of the server information.
            <% } else if (req.query.err == "NOTANUMBER") { %>
                RAM, disk and CPU must be a number.
            <% } else if (req.query.err == "ERRORONCREATE") { %>
                An error was reported by the Panel while attempting to create the server.
            <% } else if (req.query.err == "BIGSERVERNAME") { %>
                Your server name must be less than <b>191</b> characters.
            <% } else if (req.query.err == "TOOMUCHSERVERS") { %>
                Too many servers!
            <% } else if (req.query.err == "PREMIUMLOCATION") { %>
                Please select a location.
            <% } else if (req.query.err == "TOOLITTLECOINS") { %>
                There was an unknown backend error while attempting to create the server.
            <% } else if (req.query.err == "MUSTCOMPLETECAPTCHA") { %>
                You must complete the captcha to prove you are human!
            <% } else if (req.query.err == "INVALIDCAPTCHARESPONSE") { %>
                You submitted an invalid captcha response, try again.
            <% } else { %>
                <% if (req.query.num) { %>
                    <% if (!isNaN(parseFloat(req.query.num))) { %>
                        <% if (req.query.err == "TOOLITTLERAM" || req.query.err == "TOOLITTLEDISK" || req.query.err == "TOOLITTLECPU") { %>
                            You must make a server with at least <b><%= req.query.num %></b>
                            <% if (req.query.err.slice(-3) == "RAM") { %>
                                MB RAM
                            <% } else if (req.query.err.slice(-4) == "DISK") { %>
                                MB disk
                            <% } else { // CPU %>
                                % CPU
                            <% } %>
                            if you want to create a server with the server type you have selected.
                        <% } else if (req.query.err == "TOOMUCHRAM" || req.query.err == "TOOMUCHDISK" || req.query.err == "TOOMUCHCPU") { %>
                            With the selected server type, you can have a maximum of <b><%= req.query.num %></b>
                            <% if (req.query.err.slice(-3) == "RAM") { %>
                                MB RAM
                            <% } else if (req.query.err.slice(-4) == "DISK") { %>
                                MB disk
                            <% } else { // CPU %>
                                % CPU
                            <% } %>
                            on the server.
                        <% } else if (req.query.err == "EXCEEDRAM" || req.query.err == "EXCEEDDISK" || req.query.err == "EXCEEDCPU") { %>
                            You don't have enough resources to make this server.
                        <% } else { %>
                            I won't mind to add a little easter egg here. :)
                        <% } %>
                    <% } else { %>
                        I won't mind to add a little easter egg here. :)
                    <% } %>
                <% } else { %>
                    I won't mind to add a little easter egg here. :)
                <% } %>
            <% } %>
        </div>
    <% } %>
    <div class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
      <!-- Replace with your content -->
<!-- This example requires Tailwind CSS v2.0+ -->
<!-- This example requires Tailwind CSS v2.0+ -->
<!-- This example requires Tailwind CSS v2.0+ -->






<!-- This example requires Tailwind CSS v2.0+ -->
<div class="bg-fex-700 px-4 py-5 border-t border-l border-r border-fex2-600 rounded-t sm:px-6 ">
  <h3 class="text-lg leading-6 font-medium text-white">Panel credentials</h3>
  <p class="mt-1 text-sm text-fex-300">Credentials for accessing the game panel.</p>
</div>
<div class="bg-fex-700 rounded-b px-4 py-5 sm:px-6 border-b border-l border-r border-fex2-600">
    <dl>
      <div class="bg-transparent px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
                        <dt class="text-sm font-medium text-white" for="InputName">Name</dt>
                        <input type="text" class="transition ease-in-out delay-100 block w-full flex-1 text-white rounded-md bg-fex-600 border-fex-500 focus:border-sky-400 focus:ring-sky-400 sm:text-sm" id="InputName" placeholder="My Server">
      </div>
      <div class="bg-transparent px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-white" for="InputCPU">CPU</dt>
        <input type="text" class="transition ease-in-out delay-100 block w-full flex-1 text-white rounded-md bg-fex-600 border-fex-500 focus:border-sky-400 focus:ring-sky-400 sm:text-sm" id="InputCPU" placeholder="100">
      </div>
      <div class="bg-transparent px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-white" for="InputRAM">RAM</dt>
        <input type="text" class="transition ease-in-out delay-100 block w-full flex-1 text-white rounded-md bg-fex-600 border-fex-500 focus:border-sky-400 focus:ring-sky-400 sm:text-sm" id="InputRAM" placeholder="1024">
      </div>
      <div class="bg-transparent px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-white" for="InputDisk">Disk</dt>
        <input type="text" class="transition ease-in-out delay-100 block w-full flex-1 text-white rounded-md bg-fex-600 border-fex-500 focus:border-sky-400 focus:ring-sky-400 sm:text-sm" id="InputDisk" placeholder="1024">
      </div>
      <div class="bg-transparent px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-white" for="InputLoc">Location</dt>
        <select name="Alabama" class=" form-control transition ease-in-out delay-100 block w-full flex-1 text-white rounded-md bg-fex-600 border-fex-500 focus:border-sky-400 focus:ring-sky-400 sm:text-sm" id="InputLoc">
            <% for (let [name, value] of Object.entries(settings.api.client.locations)) { %>
                <option value="<%= name %>"><%= value.name %></option>
              <% } %>
            </select>
      </div>
      <div class="bg-transparent px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6">
        <dt class="text-sm font-medium text-white" for="InputEgg">Egg</dt>
        <select name="Paper" class="form-control transition ease-in-out delay-100 block w-full flex-1 text-white rounded-md bg-fex-600 border-fex-500 focus:border-sky-400 focus:ring-sky-400 sm:text-sm" id="InputEgg">
            <% for (let [name, value] of Object.entries(settings.api.client.eggs)) { %>
                <option value="<%= name %>"><%= value.display %></option>
              <% } %>
            </select>
      </div>
      <a href="javascript: submitNew()" class="transition ease-in-out delay-100 group relative flex w-1/3 justify-center rounded-md border border-transparent bg-fex-600 py-2 px-4 text-sm font-medium text-white hover:bg-fex-500 focus:outline-none">
        Deploy Server
      </a>
    </dl>
</div>
<div class="bg-fex-700 rounded-b px-4 py-5 sm:px-6 border-b border-l border-r border-fex2-600">
<!--
  This example requires Tailwind CSS v2.0+ 
  
  This example requires some changes to your config:
  
  ```
  // tailwind.config.js
  module.exports = {
    // ...
    plugins: [
      // ...
      require('@tailwindcss/forms'),
    ],
  }
  ```
-->




</div>
       <style>
.alertbtn {
  margin-left: 15px;
  color: white;
  font-weight: bold;
  float: right;
  font-size: 22px;
  line-height: 20px;
  cursor: pointer;
  transition: 0.3s;
}
   </style>
   <script>
         async function submitNew() {
            let name = encodeURIComponent(document.getElementById("InputName").value);
            let egg = encodeURIComponent(document.getElementById("InputEgg").value);
            let ram = encodeURIComponent(document.getElementById("InputRAM").value * 1024);
            let disk = encodeURIComponent(document.getElementById("InputDisk").value * 1024);
            let cpu = encodeURIComponent(document.getElementById("InputCPU").value * 100);
            let location = encodeURIComponent(document.getElementById("InputLoc").value);
            document.location.href = `/create?name=${name}&egg=${egg}&ram=${ram}&disk=${disk}&cpu=${cpu}&location=${location}`;
          };
        </script>
      <!-- /End replace -->
    </div>
  </main>
</div></body></html>